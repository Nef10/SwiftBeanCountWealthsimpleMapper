<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SwiftBeanCountWealthsimpleMapper  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>


    <a title="SwiftBeanCountWealthsimpleMapper  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          SwiftBeanCountWealthsimpleMapper Docs
        </a>
         (100% documented)
      </p>
    
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/Nef10/SwiftBeanCountWealthsimpleMapper">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2FNef10.github.io%2FSwiftBeanCountWealthsimpleMapper%2Fdocsets%2FSwiftBeanCountWealthsimpleMapper.xml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">SwiftBeanCountWealthsimpleMapper Reference</a>
      <img class="carat" src="img/carat.png" />
      SwiftBeanCountWealthsimpleMapper  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/WealthsimpleConversionError.html">WealthsimpleConversionError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/WealthsimpleLedgerMapper.html">WealthsimpleLedgerMapper</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='swiftbeancountwealthsimplemapper' class='heading'>SwiftBeanCountWealthsimpleMapper</h1>

<p><a href="https://github.com/Nef10/SwiftBeanCountWealthsimpleMapper/actions?query=workflow%3A%22CI%22"><img src="https://github.com/Nef10/SwiftBeanCountWealthsimpleMapper/workflows/CI/badge.svg?event=push" alt="CI Status"></a> <a href="https://nef10.github.io/SwiftBeanCountWealthsimpleMapper/"><img src="https://nef10.github.io/SwiftBeanCountWealthsimpleMapper/badge.svg" alt="Documentation percentage"></a> <a href="https://github.com/Nef10/SwiftBeanCountWealthsimpleMapper/blob/main/LICENSE"><img src="https://img.shields.io/github/license/Nef10/SwiftBeanCountWealthsimpleMapper" alt="License: MIT"></a> <a href="https://github.com/Nef10/SwiftBeanCountWealthsimpleMapper/releases"><img src="https://img.shields.io/github/v/release/Nef10/SwiftBeanCountWealthsimpleMapper?label=SemVer&sort=semver" alt="Latest version"></a> <img src="https://img.shields.io/badge/platform-linux%20%7C%20macOS%20%7C%20iOS%20%7C%20watchOS%20%7C%20tvOS-blue" alt="platforms supported: linux | macOS | iOS | watchOS | tvOS"> <img src="https://img.shields.io/badge/SPM-compatible-blue" alt="SPM compatible"></p>
<h3 id='strong-em-this-project-is-part-for-swiftbeancount-please-check-out-the-main-documentation-a-href-https-github-com-nef10-swiftbeancount-here-a-em-strong' class='heading'><strong><em>This project is part for SwiftBeanCount, please check out the main documentation <a href="https://github.com/Nef10/SwiftBeanCount">here</a>.</em></strong></h3>
<h2 id='what' class='heading'>What</h2>

<p>This is a small library to convert downloaded data from Wealthsimple (via <a href="https://github.com/Nef10/WealthsimpleDownloader">WealthsimpleDownloader</a>) to the Beancount format (via <a href="https://github.com/Nef10/SwiftBeanCountModel">SwiftBeanCountModel</a>).</p>
<h2 id='beancount-meta-data' class='heading'>Beancount meta data</h2>

<p>The library relies heavily on meta data in your Beancount file to find accounts and commodities. Please add these to your Beancount file:</p>
<h3 id='commodities' class='heading'>Commodities</h3>

<p>Simply add the symbol used on Wealthsimple:</p>
<pre class="highlight plaintext"><code>2011-10-18 commodity ACWV
  wealthsimple-symbol: "ACWV"
</code></pre>
<h3 id='accounts' class='heading'>Accounts</h3>

<p>For account you need to add two meta data entries:</p>

<ul>
<li>First is the account type (<code>wealthsimple-account-type</code>), you can look up the possible values <a href="https://github.com/Nef10/WealthsimpleDownloader/blob/main/Sources/Wealthsimple/Account.swift#L37">here</a></li>
<li>Second is a key (<code>wealthsimple-key</code>):

<ul>
<li>For holdings and cash assset accounts this is the symbol of the stock, ETF or currency</li>
<li>For dividend income accounts this is the symbol as well</li>
<li>For the assset account you are going to contribute from, use <code>contribution</code></li>
<li>For the assset account you are going to deposit from, use <code>deposit</code></li>
<li>Use <code>fee</code> on an expense account to track the wealthsimple fees</li>
<li>Use <code>non resident withholding tax</code> on an expense account for the tax</li>
<li>In case some transaction does not balance, we will look for an expense account with <code>rounding</code></li>
<li>In case you get a refund, add <code>refund</code> to an income account</li>
<li>If you want to track contribution room, use <code>contribution-room</code> on an asset and expense account (optional)</li>
</ul></li>
</ul>

<p>Both keys and types can be space separated in case you have multiple Wealthsimple accounts and for example want to combine the fees into one expense account, or you contribute from the same account.</p>

<details>
  <summary>Full Example</summary>

&ldquo;`
2020-07-31 open Assets:Checking:Wealthsimple CAD
  wealthsimple-account-type: &quot;ca_cash&rdquo;
  wealthsimple-key: &ldquo;CAD&rdquo;

2020-07-31 open Assets:Investment:Wealthsimple:TFSA:Parking CAD
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;CAD&rdquo;

2020-07-31 open Assets:Investment:Wealthsimple:TFSA:ACWV ACWV
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;ACWV&rdquo;

2020-07-31 open Income:Capital:Dividend:ACWV USD
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;ACWV&rdquo;

2020-07-31 open Assets:Checking:Bank CAD
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;contribution&rdquo;

2020-07-31 open Assets:Investment:OtherComany:TFSA
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;deposit&rdquo;

2020-07-31 open Expenses:FinancialInstitutions:Investment:Fees
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;fee&rdquo;

2020-07-31 open Expenses:Tax:NRWT
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;non resident withholding tax&rdquo;

2020-07-31 open Expenses:Rounding
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;rounding&rdquo;

2020-07-31 open Income:FinancialInstitutions
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;refund&rdquo;

2020-07-31 open Assets:TFSAContributionRoom TFSA.ROOM
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;contribution-room&rdquo;

2020-07-31 open Expenses:TFSAContributionRoom TFSA.ROOM
  wealthsimple-account-type: &ldquo;ca_tfsa&rdquo;
  wealthsimple-key: &ldquo;contribution-room&rdquo;
&ldquo;&rdquo;
</details>
<h2 id='how' class='heading'>How</h2>

<p>Please check out the complete documentation <a href="https://nef10.github.io/SwiftBeanCountWealthsimpleMapper/">here</a>. You can also have a look at the <a href="https://github.com/Nef10/SwiftBeanCountDownloaderApp">SwiftBeanCountDownloaderApp</a> which uses this library.</p>
<h2 id='usage' class='heading'>Usage</h2>

<p>The library supports the Swift Package Manger, so simply add a dependency in your <code>Package.swift</code>:</p>
<pre class="highlight plaintext"><code>.package(url: "https://github.com/Nef10/SwiftBeanCountWealthsimpleMapper.git", .upToNextMajor(from: "1.0.0")),
</code></pre>
<h2 id='limitations' class='heading'>Limitations</h2>

<p>Please note that I developed this library for my own needs and there may be bugs. It currently has some limitations:</p>

<ul>
<li>Sell Gains are not calculated</li>
<li>If transactions do not balance, it will add a rounding posting. However, due to SwiftBeanCountModel not yet fully supporting Beancount rounding, the amount of this posting will likely be 0 and need to be adjusted manually.</li>
</ul>

<p>Pull requests to extend the scope or remove limitations are very welcome.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://github.com/Nef10" target="_blank" rel="external">Nef10</a>. All rights reserved. (Last updated: 2021-08-08)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.7</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
